!function(e){var t={};function n(o){if(t[o])return t[o].exports;var c=t[o]={i:o,l:!1,exports:{}};return e[o].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(o,c,function(t){return e[t]}.bind(null,c));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"edit",(function(){return v}));document.querySelector("body");function o(e,t,...n){const o=document.createElement("div");o.classList+=t.type,o.id=t.id;for(let e in t){const n=document.createElement("div");n.classList=e,n.innerHTML="string"==typeof t[e]?t[e]:"",o.appendChild(n)}if(n)for(let e of n)o.appendChild(e());return e.appendChild(o),o}document.createElement("div").id="mainBox";let c=0;const i=({title:e,...t})=>({id:++c,title:e,dateAdded:new Date,...t}),r=({description:e="",dateCompleteBy:t=null,priority:n=null,...o})=>i({...o,type:"task",description:e,dateCompleteBy:t,priority:n}),d=({children:e=[],...t})=>i({...t,type:"project",children:e}),l=document.querySelector("body"),u=document.createElement("div");u.setAttribute("id","containerBox");const a=document.createElement("div");a.setAttribute("id","mainBox");const s=document.createElement("div");s.setAttribute("id","focusedBox");const m=document.createElement("div");m.setAttribute("id","viewBox"),[a,s,m].map(e=>u.appendChild(e)),l.appendChild(u);const p=function(){const e=JSON.parse(localStorage.getItem("1")),t=e=>JSON.parse(localStorage.getItem(e));return{getMainProjects:()=>Object.values(localStorage).map(e=>JSON.parse(e)),addProject:e=>{localStorage.setItem(e.id,JSON.stringify(e))},removeProject:e=>{localStorage.removeItem(e.id)},getProject:t,currentProject:e,setCurrentProject:e=>{p.currentProject=e},addTask:(e,n)=>{const o=t(e.id);o.children.push(n),p.addProject(o)},removeTask:e=>{const t=p.currentProject.children.findIndex(t=>t.id==e.id);p.currentProject.children.splice(t,1),p.addProject(p.currentProject)}}}(),f=e=>{const t=document.createElement("input");return t.type="submit",t.value="Submit",t.onclick=function(){const t=d({title:e.value});p.addProject(t),C(),P(m)},t};function y(e){P(m),B(m);const t=document.createElement("label"),n=document.createElement("input");t.for=t.textContent=n.id="title",n.type="text";const o=document.createElement("label"),c=document.createElement("textarea");o.for=o.textContent=c.id="description",c.maxLength="200";const i=document.createElement("label"),r=document.createElement("input");i.for=i.textContent=r.id="dateCompleteBy",r.type="date";const d=document.createElement("label"),l=document.createElement("select");d.for=l.id=d.textContent="priority";["Top","High","Mid","Low"].map(e=>{const t=document.createElement("option");t.value=t.textContent=t.id=e,l.appendChild(t)});const u=document.createElement("label"),a=document.createElement("select");u.id="projectLabel",u.for=u.textContent=a.id="project",p.getMainProjects().map(e=>{const t=document.createElement("option");t.value=e.id,t.textContent=e.title,a.appendChild(t)}),[t,n,o,c,i,r,d,l,u,a,e].map(e=>m.appendChild(e))}function v(){P(m),B(m),y(h.apply(this)),document.getElementById("title").value=this.title,document.getElementById("description").value=this.description,document.getElementById("dateCompleteBy").defaultValue=this.dateCompleteBy,document.getElementById("project").remove(),document.getElementById("projectLabel").remove()}function b(){const e=document.createElement("button");return e.classList=e.textContent="edit",e.value=this.id,e.onclick=v.bind(this),e}function h(){const e=document.createElement("input");return e.type=e.value="submit",e.onclick=function(){const e=r({title:document.getElementById("title").value,description:document.getElementById("description").value,dateCompleteBy:document.getElementById("dateCompleteBy").value,priority:document.getElementById("priority").value});Object.assign(this,e,{id:this.id}),p.addProject(p.currentProject),x.apply(p.currentProject),P(m)}.bind(this),e}function E(){const e=document.createElement("button");return e.classList=e.textContent="remove",e.value=this.id,e.onclick=j.bind(this),e}function j(){P(s),"task"==this.type?(p.removeTask(this),x.apply(p.currentProject)):"project"==this.type&&(p.removeProject(this),C())}function C(){a.textContent="";for(const e of p.getMainProjects())o(a,e,g.bind(e))}function g(){const e=document.createElement("button");return e.classList=e.textContent="view",e.value=this.id,e.onclick=x.bind(this),e}function x(){P(s),B(s);const e=document.createElement("div");e.classList+="title",e.innerHTML=this.title,e.appendChild(E.bind(this)()),e.appendChild(I.bind(this)()),s.appendChild(e);for(const e of this.children)o(s,e,b.bind(e),E.bind(e),I.bind(e));p.setCurrentProject(this)}function P(e){e.textContent=""}function B(e){const t=document.createElement("button");t.textContent="X",t.value="exit",t.onclick=()=>P(e),e.appendChild(t)}function I(){const e=document.createElement("button");return e.textContent="Complete",e.value="complete",e.onclick=()=>document.getElementById(this.id).classList.toggle("complete"),e}document.getElementById("newProject").addEventListener("click",()=>{P(m),B(m);const e=document.createElement("label");e.for="title",e.textContent="Title:";const t=document.createElement("input");t.type="text",t.id="newTitle",[e,t,f(t)].map(e=>m.appendChild(e))}),document.getElementById("newTask").addEventListener("click",()=>{y(function(){const e=document.createElement("input");return e.type=e.value="submit",e.onclick=function(){const e=document.getElementById("project").value,t=p.getProject(e),n=r({title:title.value,description:description.value,dateCompleteBy:dateCompleteBy.value,priority:priority.value});p.addTask(t,n),C(),x.apply(p.getProject(t.id)),P(m)},e}())}),C()}]);